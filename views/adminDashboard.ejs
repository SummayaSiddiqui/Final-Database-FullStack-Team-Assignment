<%- include('partials/header') %>
<main>
<div class="admin-dashboard-container">
    <div class="dashboard-header">
        <h1>Admin Dashboard</h1>
        <h2>Registered Users</h2>
    </div>
    <!-- <p>success value: <%= success %></p> -->

            <% if (message) { %>
<div class="<%= success === 'true' ? 'success' : 'error' %>">
            <p><%= message %></p>
        </div>
        <% } %>

    <div class="user-list">
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Username</th>
                    <th>Join Date</th>
                </tr>
            </thead>
            <tbody>
                <% users.forEach((user, index) => { %>
                <tr>
                    <td><%= index + 1 %></td>
                    <td><%= user.username %></td>
                    <td><%= user.joinDate.toLocaleDateString() %></td>
                </tr>
                <tr class="user-actions-row">
                    <td colspan="4">
                        <div class="user-actions">
                                <a style="text-decoration: none;" 
                                href="<%= user.banned ? 'unban/' + user.username : 'ban/' + user.username %>" 
                                class="ban-button <%= user.banned ? 'lift-ban' : 'ban' %>">
                                <%= user.banned ? 'Lift Ban' : 'Ban' %>
                                </a>                            
                                <a style="text-decoration: none;" href="remove/<%= user.username %>" class="remove-button">Remove</a>
                        </div>
                    </td>
                </tr>
                <% }); %>
            </tbody>
        </table>
    </div>
</div>
</main>
<%- include('partials/footer') %>
